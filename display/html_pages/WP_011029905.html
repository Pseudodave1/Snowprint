<!DOCTYPE html>

<html>

<body>
	<div id="operators">
	</div>
</body>


<style>
#operators{
	margin-left: 2vw;
	margin-right: 2vw;
	margin-top:50vh;
	position: relative;
	display:block;
	overflow-x: scroll;
	white-space: nowrap;
	border: 1px solid black;
}
</style>

	<script>

		let letterColors = {"A":"red", "T":"green", "C":"blue","G":"black"};
		let operators = document.getElementById("operators")	
	
		function renderOperator(operator) {
		
			let container = document.createElement("div");
			
			let letters = operator.map(x => x["base"]);
			let scale = operator.map(x => x["score"]**3);		

			for (i in letters) {
				let letter = document.createElement('div');
				letter.innerText = letters[i];
				letter.setAttribute("style", "color:"+letterColors[letters[i]]+"; font-size:4rem; transform:scaleY("+scale[i].toString()+"); display:inline-block; padding-bottom: 2.5rem; width:3rem;")
				container.appendChild(letter);
				operators.appendChild(container);
			}
		}
	
	//since javascript doesn't have a built-in range function	
	function range(start, stop){
		var myList = [];
		for (let i = start; i <= (stop-1); i++){
			myList.push(i);
		}
		return myList;
	}

		// insert operator code below


            // new section appended below //

            var graphic = ['[{"base": "G", "score": 0.73}, {"base": "G", "score": 0.73}, {"base": "T", "score": 0.73}, {"base": "T", "score": 0.95}, {"base": "G", "score": 1.0}, {"base": "G", "score": 0.68}, {"base": "C", "score": 0.68}, {"base": "G", "score": 1.0}, {"base": "C", "score": 0.95}, {"base": "T", "score": 0.64}, {"base": "G", "score": 1.0}, {"base": "T", "score": 1.0}, {"base": "G", "score": 0.77}, {"base": "A", "score": 0.95}, {"base": "G", "score": 0.77}, {"base": "C", "score": 0.73}, {"base": "C", "score": 0.95}, {"base": "A", "score": 0.68}, {"base": "G", "score": 0.73}, {"base": "C", "score": 0.77}, {"base": "A", "score": 0.95}, {"base": "C", "score": 0.68}, {"base": "G", "score": 0.59}, {"base": "G", "score": 1.0}, {"base": "A", "score": 0.73}, {"base": "G", "score": 0.77}, {"base": "G", "score": 0.77}, {"base": "C", "score": 0.95}, {"base": "C", "score": 0.77}, {"base": "G", "score": 0.73}, {"base": "G", "score": 0.73}, {"base": "A", "score": 0.95}]', '[{"base": "G", "score": 0.74}, {"base": "C", "score": 0.87}, {"base": "A", "score": 0.74}, {"base": "C", "score": 0.74}, {"base": "G", "score": 0.83}, {"base": "G", "score": 1.0}, {"base": "A", "score": 0.96}, {"base": "G", "score": 0.61}, {"base": "G", "score": 0.74}, {"base": "C", "score": 1.0}, {"base": "C", "score": 0.7}, {"base": "G", "score": 0.74}, {"base": "G", "score": 1.0}, {"base": "A", "score": 0.7}, {"base": "T", "score": 0.61}, {"base": "A", "score": 0.7}, {"base": "C", "score": 0.91}, {"base": "C", "score": 0.96}, {"base": "G", "score": 0.83}, {"base": "G", "score": 0.91}, {"base": "C", "score": 0.96}, {"base": "G", "score": 0.91}, {"base": "C", "score": 0.96}, {"base": "A", "score": 0.87}, {"base": "C", "score": 0.96}, {"base": "A", "score": 0.7}, {"base": "A", "score": 0.65}, {"base": "G", "score": 0.7}, {"base": "G", "score": 0.7}]']

            var len = graphic.length
            for (i in range(0, len)){
                var data = JSON.parse(graphic[i])
                renderOperator(data)
            }

    </script>

    </html>
    