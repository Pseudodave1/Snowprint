<!DOCTYPE html>

<html>

<body>
	<div id="operator">
	</div>
</body>


<style>
#operator{
	margin-left: 2vw;
	margin-right: 2vw;
	margin-top:50vh;
	position: relative;
	display:block;
	overflow-x: scroll;
	white-space: nowrap;
	border: 1px solid black;
}
</style>

	<script>

		let letterColors = {"A":"red", "T":"green", "C":"blue","G":"black"};
		let container = document.getElementById("operator");
		
		function renderOperator(operator) {
			
			let letters = operator.map(x => x["base"]);
			let scale = operator.map(x => x["score"] * x["score"]);		

			for (i in letters) {
				let letter = document.createElement('div');
				letter.innerText = letters[i];
				letter.setAttribute("style", "color:"+letterColors[letters[i]]+"; font-size:4rem; transform:scaleY("+scale[i].toString()+"); display:inline-block; padding-bottom: 2.5rem;")
				container.appendChild(letter);
			}
		}

		// insert operator code below


            // new section appended below //

            var graphic = '[{"base": "C", "score": 0.74}, {"base": "T", "score": 0.66}, {"base": "T", "score": 0.51}, {"base": "T", "score": 0.55}, {"base": "T", "score": 0.68}, {"base": "A", "score": 0.47}, {"base": "A", "score": 0.51}, {"base": "C", "score": 0.53}, {"base": "T", "score": 0.57}, {"base": "A", "score": 0.51}, {"base": "A", "score": 0.49}, {"base": "A", "score": 0.72}, {"base": "A", "score": 0.43}, {"base": "C", "score": 0.79}, {"base": "G", "score": 0.87}, {"base": "G", "score": 1.0}, {"base": "A", "score": 1.0}, {"base": "A", "score": 1.0}, {"base": "T", "score": 0.98}, {"base": "G", "score": 1.0}, {"base": "A", "score": 1.0}, {"base": "A", "score": 0.98}, {"base": "C", "score": 0.79}, {"base": "G", "score": 0.87}, {"base": "T", "score": 0.98}, {"base": "T", "score": 0.98}, {"base": "C", "score": 1.0}, {"base": "A", "score": 0.98}, {"base": "T", "score": 0.98}, {"base": "T", "score": 1.0}, {"base": "C", "score": 1.0}, {"base": "C", "score": 0.89}, {"base": "G", "score": 0.89}, {"base": "C", "score": 0.51}, {"base": "T", "score": 0.7}, {"base": "T", "score": 0.55}, {"base": "C", "score": 0.49}, {"base": "A", "score": 0.47}, {"base": "A", "score": 0.51}, {"base": "T", "score": 0.38}, {"base": "A", "score": 0.47}, {"base": "A", "score": 0.62}, {"base": "A", "score": 0.38}, {"base": "A", "score": 0.53}, {"base": "A", "score": 0.64}, {"base": "G", "score": 0.79}]'

            var data = JSON.parse(graphic)
                renderOperator(data)


    </script>

    </html>
    